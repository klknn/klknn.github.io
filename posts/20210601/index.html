<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>雑記</title><style>@media(prefers-color-scheme:dark){body{background-color:#222;color:#ddd}a:link{color:#88c}a:visited{color:#bbc}a:hover{color:#f88}a:active{color:#f80}}h1,h2,h3,h4,h5,h6{margin:2rem auto 1rem;max-width:50rem}.single-metadata{margin:auto;padding:auto;line-height:.5rem;max-width:50rem;border:dotted}.neighbour-pages{font-style:italic;padding:1rem}p,.highlight,.gist-file,figure,hr,.twitter-tweet,.footnotes{margin:1rem auto;max-width:50rem}.footnote-body{margin:1rem}blockquote{margin:1rem auto;max-width:45rem;font-style:italic;border-left:solid 5px}ol,ul,li{margin:.75rem auto;max-width:50rem}p img{width:100%}table,th,td{border-collapse:collapse;border:1px solid;line-height:1.5;padding:10px;border-left:none;border-right:none;margin:1rem auto;max-width:50rem}figcaption{text-align:center;font-style:italic}.index-date{text-align:right;font-style:italic}pre{overflow:scroll}</style><script>MathJax={tex:{tags:"ams",inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js></script></head><body><a href=/>klknn log</a> /
<a href=/posts/>posts</a> /
<a href=/tags/>tags</a> /
<a href=/works/>works</a> /
<a href=/index.xml>feed</a> /
<a href=https://github.com/klknn/klknn.github.io>src</a><h1>雑記</h1><div class=single-metadata><ul><li>date: 2021-06-02 03:25:33 +0900 <a href=https://github.com/klknn/klknn.github.io/edit/develop/content/20210601>edit</a></li><li>tags:
<a href=/tags/memo/>memo</a>,
<a href=/tags/lang-ja/>lang-ja</a></li><li>toc:<nav id=TableOfContents><ul><li><a href=#netflixとかamazon-primeで見てるやつ>NetflixとかAmazon Primeで見てるやつ</a></li><li><a href=#m1-mac-book-air-買った>M1 Mac book air 買った</a></li><li><a href=#d言語設定-on-m1-mac>D言語設定 on M1 Mac</a></li><li><a href=#hugo-アップデート>Hugo アップデート</a></li><li><a href=#ダークモード対応>ダークモード対応</a></li></ul></nav></li></ul></div><h2 id=netflixとかamazon-primeで見てるやつ>NetflixとかAmazon Primeで見てるやつ</h2><p>アニメのキングダムにハマりしました、ちなみに漫画はそこまでハマらなかったです。個人的なハマり基準として出演してる声優を片っ端からWikipediaで調べる習性があります。ただし、声優のWikipediaページに特有の現象として、ある程度の知名度を境におそらく熱狂的なファンが書き散らかした「※個人の感想」みたいな記述が削除されずに残っていて、ちょっとしんどい気持ちになります。ちなみに一期と二期最終話に作者がエキストラ出演してるのみんな気づきましたか？私もスタッフロールで見ただけですが。</p><p>お笑いではAmazon Primeオリジナルの「千鳥のニッポンハッピーチャンネル」が一番好きです。これは大吾の企画した番組をノブが突っ込みながらみるというメタ番組です。ゲストは全員大吾側についているので、ノブだけが異世界転生したテレビみたいにも見えます。トレンディドラマとか、ホラー特番みたいな、いまはもう失われた過去の遺産を誇張・歴史改変した笑いにしてしまうユニークさが好きです。相席食堂といい彼らはエコシステムを作るのが上手なので、千鳥はダウンタウンに超えるだろうなと思います。</p><h2 id=m1-mac-book-air-買った>M1 Mac book air 買った</h2><p>昔持ってたMac book proが2009年製だったのを覚えてます。つまり12年ぶりにMac買いました。昔は自作PCにMac入れてたんですが、OSアップデートが自由なハードウェアとクローズドソフトの相性による死と隣り合わせで、結局LinuxかWindows使えという結論に至っていました。買った理由は、</p><ul><li>ファンレスなので無音、スピーカーくらいしか通気してないので埃にも強そう</li><li>M1っていうかARMのPC持ってないから面白そう</li><li>メーカー製Windows はDPCレイテンシーのガチャみたいなところがあり厳しい</li><li>昔のMacで作った曲をremix (というかrearrange) したい</li><li>画面が16:10で縦に長い</li></ul><p>という感じです。正直、プログラミングやゲームみたいなギーク的な部分は絶対WindowsやLinuxの方が楽なので、Macではどうしようもない怒りを覚えていますが、音楽制作用とわりきると悪く無いです。Logicに今は亡きCamelAudioのAlchemyとかCamelCrasher入ってて嬉しいです。
そのうちプログラミング環境も揃えていければなと思います。</p><h2 id=d言語設定-on-m1-mac>D言語設定 on M1 Mac</h2><p>プラグイン開発の設定をする前に、プログラミング環境の設定をやります。とりあえずrosettaでDMDコンパイラも問題なく動きましたが、M1 nativeじゃないと嫌&mldr;という気持ちがあり、LDC2をメインで使ってます。そのうちクロスコンパイルとかにも挑戦したい。とくにLinuxと違うことはないですが、唯一Emacsの設定でcompany-dmdにLDC2を使ってますよと教える必要があります。あとDCDとかもそこそこ重いので一応M1 nativeじゃないと嫌&mldr;という気持ちでHEADをコンパイルして使ってます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(use-package d-mode
</span></span><span style=display:flex><span>  :ensure <span style=color:#66d9ef>t</span>
</span></span><span style=display:flex><span>  :init
</span></span><span style=display:flex><span>  (use-package company-dcd
</span></span><span style=display:flex><span>    :ensure <span style=color:#66d9ef>t</span>
</span></span><span style=display:flex><span>    :config
</span></span><span style=display:flex><span>    (setq company-dcd-compiler <span style=color:#e6db74>&#34;~/Downloads/ldc2-1.25.1-osx-arm64/bin/ldc2&#34;</span>)
</span></span><span style=display:flex><span>    (setq company-dcd-client-executable <span style=color:#e6db74>&#34;~/repos/DCD/bin/dcd-client&#34;</span>)
</span></span><span style=display:flex><span>    (setq company-dcd-server-executable <span style=color:#e6db74>&#34;~/repos/DCD/bin/dcd-server&#34;</span>))
</span></span></code></pre></div><p>最近ようやくuse-packageを使って、<code>.emacs</code>の式年造替を終えました。なんとなく長年使ってた <code>.emacs.d/init.el</code> から <code>.emacs</code> に変えました。開きやすいから。</p><p>そういえば、前回の記事でflycheck-dmd-dubにWindows MSYS2対応パッチ投げた件、マージしてもらえたのでcompany-dcdにも投げなきゃ&mldr;。</p><h2 id=hugo-アップデート>Hugo アップデート</h2><p>雑に <code>brew install hugo</code> したら最新版の v0.83.1 が入っていたので Github Actions の方もアプデしました (hugo はシングルバイナリ配布が売りなのでわざわざ brew 使う必要はないが)。目立った違いはなさそうですが、個人的には記事の日付表示が以前から <code>2021-06-02 03:25:33 +0900 +0900</code> となぜかタイムゾーンが二度表示されているバグが修正されて、 <code>2021-06-02 03:25:33 +0900 JST</code> という表記に変わったところが超嬉しいです。JS側でhackするとかHugoの中に手を入れたなかったので、すごく嬉しいです。</p><p>追記: と、思ったけどCIでデプロイされたページでは元にもどってる。ロケールとかの問題でしょうか？とりあえず <code>{{ .Date.Format "2006-01-02 15:04:05 MST" }}</code> といった感じでFormatを指定してみました。</p><p><a href=https://discourse.gohugo.io/t/convert-all-times-to-utc/3206>https://discourse.gohugo.io/t/convert-all-times-to-utc/3206</a></p><h2 id=ダークモード対応>ダークモード対応</h2><p><a href=/posts/hugo-setup>このサイトはCSSを書かない主義</a> でやっているのですが、Mac買ってダークモードという概念があることを認識したので、こんな感じで追加してみました。相変わらず 全部 <a href=https://github.com/klknn/klknn.github.io/blob/develop/layouts/_default/baseof.html>layouts/_default/baseof.html</a> に直書きです。ブラウザとOSで異なるモード選択していたらどうなるのかとか気になるけど、まぁいいか。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>@<span style=color:#66d9ef>media</span> <span style=color:#f92672>(</span><span style=color:#f92672>prefers-color-scheme</span><span style=color:#f92672>:</span> <span style=color:#f92672>dark</span><span style=color:#f92672>)</span> {
</span></span><span style=display:flex><span>    <span style=color:#f92672>body</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>background-color</span>: <span style=color:#ae81ff>#222</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#ddd</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#f92672>a</span>:<span style=color:#a6e22e>link</span> { <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#88f</span>; }
</span></span><span style=display:flex><span>    <span style=color:#f92672>a</span>:<span style=color:#a6e22e>visited</span> { <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#88c</span>; }
</span></span><span style=display:flex><span>    <span style=color:#f92672>a</span>:<span style=color:#a6e22e>hover</span> { <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#f88</span>; }
</span></span><span style=display:flex><span>    <span style=color:#f92672>a</span>:<span style=color:#a6e22e>active</span> { <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#f80</span>; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>あと解像度高いディスプレイで見たら横長すぎて読みにくいので max-width とかもいれました。</p><div class=neighbour-pages><hr><p><a href=#>Back to top</a></p><p><a href=https://klknn.github.io/posts/d-windows/>Prev: WindowsでのDplug開発</a></p><p><a href=https://klknn.github.io/posts/m16_first_impression/>Next: DTM最強ノートPCとしてASUS ROG Zephyrus …</a></p></div>Copyright © klknn All Rights Reserved.</body></html>